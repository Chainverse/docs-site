"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4290],{3905:(n,e,t)=>{t.d(e,{Zo:()=>l,kt:()=>k});var r=t(7294);function a(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function o(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?i(Object(t),!0).forEach((function(e){a(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function p(n,e){if(null==n)return{};var t,r,a=function(n,e){if(null==n)return{};var t,r,a={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(a[t]=n[t]);return a}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var c=r.createContext({}),s=function(n){var e=r.useContext(c),t=e;return n&&(t="function"==typeof n?n(e):o(o({},e),n)),t},l=function(n){var e=s(n.components);return r.createElement(c.Provider,{value:e},n.children)},h="mdxType",m={inlineCode:"code",wrapper:function(n){var e=n.children;return r.createElement(r.Fragment,{},e)}},d=r.forwardRef((function(n,e){var t=n.components,a=n.mdxType,i=n.originalType,c=n.parentName,l=p(n,["components","mdxType","originalType","parentName"]),h=s(t),d=a,k=h["".concat(c,".").concat(d)]||h[d]||m[d]||i;return t?r.createElement(k,o(o({ref:e},l),{},{components:t})):r.createElement(k,o({ref:e},l))}));function k(n,e){var t=arguments,a=e&&e.mdxType;if("string"==typeof n||a){var i=t.length,o=new Array(i);o[0]=d;var p={};for(var c in e)hasOwnProperty.call(e,c)&&(p[c]=e[c]);p.originalType=n,p[h]="string"==typeof n?n:a,o[1]=p;for(var s=2;s<i;s++)o[s]=t[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},1687:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>p,toc:()=>s});var r=t(7462),a=(t(7294),t(3905));const i={sidebar_label:"Market Place",sidebar_position:4},o="Market Place",p={unversionedId:"sdk/ios/market-place",id:"sdk/ios/market-place",title:"Market Place",description:"1. H\xe0m buyNFT",source:"@site/docs/sdk/ios/market-place.md",sourceDirName:"sdk/ios",slug:"/sdk/ios/market-place",permalink:"/docs/sdk/ios/market-place",draft:!1,editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/sdk/ios/market-place.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_label:"Market Place",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Items",permalink:"/docs/sdk/ios/items"},next:{title:"T\u1ed5ng Quan",permalink:"/docs/sdk/Unity/over-view"}},c={},s=[{value:"1. H\xe0m buyNFT",id:"1-h\xe0m-buynft",level:2},{value:"2. H\xe0m sellNFT",id:"2-h\xe0m-sellnft",level:2},{value:"3. H\xe0m isApproved (Token)",id:"3-h\xe0m-isapproved-token",level:2},{value:"4. H\xe0m isApproved (NFT)",id:"4-h\xe0m-isapproved-nft",level:2},{value:"5. H\xe0m approveToken",id:"5-h\xe0m-approvetoken",level:2},{value:"6. H\xe0m approveNFT",id:"6-h\xe0m-approvenft",level:2},{value:"7. H\xe0m publishNFT",id:"7-h\xe0m-publishnft",level:2}],l={toc:s},h="wrapper";function m(n){let{components:e,...i}=n;return(0,a.kt)(h,(0,r.Z)({},l,i,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"market-place"},"Market Place"),(0,a.kt)("h2",{id:"1-h\xe0m-buynft"},"1. H\xe0m buyNFT"),(0,a.kt)("p",null,"H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 mua item \u0111ang b\xe1n tr\xean ch\u1ee3. Th\xf4ng tin transaction hash c\u0169ng s\u1ebd \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 qua callback ",(0,a.kt)("a",{parentName:"p",href:"/docs/sdk/ios/over-view#9-callback-didtransact"},"didTransact")," "),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Ch\xfa \xfd"),": N\u1ebfu b\u1ea1n mua b\u1eb1ng token, b\u1ea1n c\u1ea7n ph\u1ea3i ki\u1ec3m tra s\u1ed1 l\u01b0\u1ee3ng token \u0111\xe3 approve cho ch\u1ee3 b\u1eb1ng h\xe0m ",(0,a.kt)("a",{parentName:"p",href:"#3-h%C3%A0m-isapproved-token"},"isApproved (Token)"),".\ns\u1eed d\u1ee5ng h\xe0m ",(0,a.kt)("a",{parentName:"p",href:"#5-h%C3%A0m-approvetoken"},"approveToken")," \u0111\u1ec3 approve token."),(0,a.kt)("p",null,"N\u1ebfu kh\xf4ng approve token tr\u01b0\u1edbc khi mua, b\u1ea1n c\xf3 th\u1ec3 s\u1ebd g\u1eb7p l\u1ed7i sau: ",(0,a.kt)("strong",{parentName:"p"},"execution reverted: ERC20: transfer amount exceeds allowance")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'/*\n buyNFT: Mua NFT tr\xean ch\u1ee3\n @param NSString currency\n @param NSInteger listingId\n @param NSString price\n */\n[[ChainverseSDK shared] buyNFT:@"currency" listingId:listingId price:@"price"];\n\n//Callback delegate\n- (void)didTransact:(int)function tx:(NSString *)tx{\n    - Tr\u1ea3 v\u1ec1 function : 3 (buyNFT)\n    - Tr\u1ea3 v\u1ec1 tx: transaction hash\n}\n')),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"buy nft",src:t(9666).Z,width:"761",height:"852"})),(0,a.kt)("h2",{id:"2-h\xe0m-sellnft"},"2. H\xe0m sellNFT"),(0,a.kt)("p",null,"H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 b\xe1n item l\xean ch\u1ee3. H\xe0m n\xe0y tr\u1ea3 v\u1ec1 transaction hash. Th\xf4ng tin transaction hash c\u0169ng s\u1ebd \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 qua callback ",(0,a.kt)("a",{parentName:"p",href:"/docs/sdk/ios/over-view#9-callback-didtransact"},"didTransact"),"\n(Khuy\u1ebfn kh\xedch x\u1eed l\xfd logic trong h\xe0m n\xe0y)."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Ch\xfa \xfd"),": N\u1ebfu b\u1ea1n mu\u1ed1n b\xe1n item l\xean ch\u1ee3, b\u1ea1n c\u1ea7n ph\u1ea3i ki\u1ec3m tra item \u0111\xf3 \u0111\xe3 \u0111\u01b0\u1ee3c approved cho ch\u1ee3 hay ch\u01b0a b\u1eb1ng h\xe0m ",(0,a.kt)("a",{parentName:"p",href:"#4-h%C3%A0m-isapproved-nft"},"isApproved (NFT)"),".\nS\u1eed d\u1ee5ng h\xe0m ",(0,a.kt)("a",{parentName:"p",href:"#6-h%C3%A0m-approvenft"},"approveNFT")," \u0111\u1ec3 approve item."),(0,a.kt)("p",null,"N\u1ebfu kh\xf4ng approve item tr\u01b0\u1edbc khi b\xe1n, b\u1ea1n c\xf3 th\u1ec3 s\u1ebd g\u1eb7p l\u1ed7i sau: ",(0,a.kt)("strong",{parentName:"p"},"execution reverted: ERC721: transfer caller is not owner nor approved"),"\n__\nSau khi \u0111\u0103ng b\xe1n th\xe0nh c\xf4ng, NFT c\xf3 th\u1ec3 giao d\u1ecbch tr\xean blockchain, tuy nhi\xean NFT v\u1eabn ch\u01b0a hi\u1ec3n th\u1ecb ngay tr\xean ChainVerse Market. \u0110\u1ec3 NFT hi\u1ec3n th\u1ecb tr\xean ChainVerse Market th\xec c\u1ea7n ph\u1ea3i g\u1ecdi h\xe0m ",(0,a.kt)("a",{parentName:"p",href:"#7-h%C3%A0m-publishnft"},"publishNFT")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'//*\n sellNFT: H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 b\xe1n item l\xean ch\u1ee3\n @param NSString NFT\n @param NSInteger tokenId\n @param NSString price\n @param NSString currency\n */\n[[ChainverseSDK shared] sellNFT:@"NFT" tokenId:tokenId price:@"price" currency:@"currency"];\n\n//Callback delegate\n- (void)didTransact:(int)function tx:(NSString *)tx{\n  \n    - Tr\u1ea3 v\u1ec1 function : 5 (sellNFT)\n    - Tr\u1ea3 v\u1ec1 tx: transaction hash\n}\n')),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"sell nft",src:t(4402).Z,width:"1081",height:"1002"})),(0,a.kt)("h2",{id:"3-h\xe0m-isapproved-token"},"3. H\xe0m isApproved (Token)"),(0,a.kt)("p",null,"H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 l\u1ea5y s\u1ed1 l\u01b0\u1ee3ng token m\xe0 b\u1ea1n \u0111\xe3 approved cho m\u1ed9t \u0111\u1ecba ch\u1ec9 n\xe0o \u0111\xf3. Th\xf4ng tin transaction hash c\u0169ng s\u1ebd \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 qua callback ",(0,a.kt)("a",{parentName:"p",href:"/docs/sdk/ios/over-view#9-callback-didtransact"},"didTransact"),"\n(Khuy\u1ebfn kh\xedch x\u1eed l\xfd logic trong h\xe0m n\xe0y)."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Ch\xfa \xfd"),": Tr\u01b0\u1edbc khi mu\u1ed1n mua item tr\xean ch\u1ee3, b\u1ea1n c\u1ea7n ph\u1ea3i approve m\u1ed9t l\u01b0\u1ee3ng token (",(0,a.kt)("strong",{parentName:"p"},"kh\xf4ng nh\u1ecf h\u01a1n gi\xe1 tr\u1ecb c\u1ee7a item"),") cho ch\u1ee3"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"//*\n /*\n isApproved(Token): H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 ki\u1ec3m tra token s\u1ed1 l\u01b0\u1ee3ng token approve v\xe0o ch\u1ee3\n @param NSString token\n @param NSString owner\n */\nNSString * allowence = [[ChainverseSDK shared] isApproved:TOKEN_USDT owner:info.address];\n")),(0,a.kt)("h2",{id:"4-h\xe0m-isapproved-nft"},"4. H\xe0m isApproved (NFT)"),(0,a.kt)("p",null,"H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 ki\u1ec3m tra item b\u1ea1n mu\u1ed1n b\xe1n \u0111\xe3 \u0111\u01b0\u1ee3c approved cho ch\u1ee3 ch\u01b0a."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Ch\xfa \xfd"),": Tr\u01b0\u1edbc khi mu\u1ed1n b\xe1n item, b\u1ea1n ph\u1ea3i approve item \u0111\xf3 cho ch\u1ee3."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'/*\n /*\n isApproved(NFT): H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 ki\u1ec3m tra NFT \u0111\xe3 \u0111\u01b0\u1ee3c approve hay l\xe0 ch\u01b0a\n @param NSString nft\n @param NSInteger tokenId\n */\nBOOL isApproved = [[ChainverseSDK shared] isApproved:@"nft" tokenId:tokenId];\n\n')),(0,a.kt)("h2",{id:"5-h\xe0m-approvetoken"},"5. H\xe0m approveToken"),(0,a.kt)("p",null,"H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 approve token cho m\u1ed9t \u0111\u1ecba ch\u1ec9. H\xe0m n\xe0y tr\u1ea3 v\u1ec1 transaction hash. Th\xf4ng tin transaction hash c\u0169ng s\u1ebd \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 qua callback ",(0,a.kt)("a",{parentName:"p",href:"/docs/sdk/ios/over-view#9-callback-didtransact"},"didTransact"),"\n(Khuy\u1ebfn kh\xedch x\u1eed l\xfd logic trong h\xe0m n\xe0y)."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'/*\n approveToken: H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 approve token cho m\u1ed9t \u0111\u1ecba ch\u1ec9\n @param NSString token\n @param NSString amount\n */\n[[ChainverseSDK shared] approveToken:@"token" amount:@"amount"]\n\n//Callback delegate\n- (void)didTransact:(int)function tx:(NSString *)tx{\n     - Tr\u1ea3 v\u1ec1 function : approveToken = 1\n     - Tr\u1ea3 v\u1ec1 tx: transaction hash\n}\n')),(0,a.kt)("h2",{id:"6-h\xe0m-approvenft"},"6. H\xe0m approveNFT"),(0,a.kt)("p",null,"H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 approve item b\u1ea1n mu\u1ed1n b\xe1n cho ch\u1ee3. H\xe0m n\xe0y tr\u1ea3 v\u1ec1 transaction hash. Th\xf4ng tin transaction hash c\u0169ng s\u1ebd \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 qua callback ",(0,a.kt)("a",{parentName:"p",href:"/docs/sdk/ios/over-view#9-callback-didtransact"},"didTransact"),"\n(Khuy\u1ebfn kh\xedch x\u1eed l\xfd logic trong h\xe0m n\xe0y)."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'/*\n approveNFT: H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 approve NFT tr\u01b0\u1edbc khi b\xe1n l\xean ch\u1ee3\n @param NSString nft\n @param NSInteger tokenId\n */\n[[ChainverseSDK shared] approveNFT:@"nft" tokenId:tokenId];\n\n//Callback delegate\n- (void)didTransact:(int)function tx:(NSString *)tx{\n    - Tr\u1ea3 v\u1ec1 function : 2 (approveNFT)\n    - Tr\u1ea3 v\u1ec1 tx: transaction hash\n}\n')),(0,a.kt)("h2",{id:"7-h\xe0m-publishnft"},"7. H\xe0m publishNFT"),(0,a.kt)("p",null,"H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 publish item c\u1ee7a b\u1ea1n l\xean ChainVerse Market. Sau khi b\xe1n th\xf4ng qua h\xe0m ",(0,a.kt)("a",{parentName:"p",href:"#2-h%C3%A0m-sellnft"},"sellNFT")," th\xec NFT \u0111\xe3 \u0111\u01b0\u1ee3c b\xe1n tr\xean blockchain, tuy nhi\xean v\u1eabn ch\u01b0a \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb \u1edf tr\xean ChainVerse Market. Ch\xednh v\xec v\u1eady c\u1ea7n ph\u1ea3i g\u1ecdi h\xe0m ",(0,a.kt)("strong",{parentName:"p"},"publishNFT")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'/*\n publishNFT: H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 publish NFT l\xean ch\u1ee3\n @param NSString nft\n @param NSInteger tokenId\n */\n[[ChainverseSDK shared] publishNFT:@"nft" tokenId:tokenId complete:^(BOOL isPublished){\n        \n}];\n')))}m.isMDXComponent=!0},9666:(n,e,t)=>{t.d(e,{Z:()=>r});const r=t.p+"assets/images/buyNFT-2eac8055f8cf54bdfda9d366290364c8.png"},4402:(n,e,t)=>{t.d(e,{Z:()=>r});const r=t.p+"assets/images/sellNFT-4e2d35f29befa78206b4b38bf03ca75e.png"}}]);