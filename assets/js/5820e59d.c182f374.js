"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8495],{3905:(n,e,t)=>{t.d(e,{Zo:()=>s,kt:()=>d});var a=t(7294);function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function p(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,a)}return t}function o(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?p(Object(t),!0).forEach((function(e){r(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function c(n,e){if(null==n)return{};var t,a,r=function(n,e){if(null==n)return{};var t,a,r={},p=Object.keys(n);for(a=0;a<p.length;a++)t=p[a],e.indexOf(t)>=0||(r[t]=n[t]);return r}(n,e);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(n);for(a=0;a<p.length;a++)t=p[a],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}var l=a.createContext({}),i=function(n){var e=a.useContext(l),t=e;return n&&(t="function"==typeof n?n(e):o(o({},e),n)),t},s=function(n){var e=i(n.components);return a.createElement(l.Provider,{value:e},n.children)},m="mdxType",k={inlineCode:"code",wrapper:function(n){var e=n.children;return a.createElement(a.Fragment,{},e)}},h=a.forwardRef((function(n,e){var t=n.components,r=n.mdxType,p=n.originalType,l=n.parentName,s=c(n,["components","mdxType","originalType","parentName"]),m=i(t),h=r,d=m["".concat(l,".").concat(h)]||m[h]||k[h]||p;return t?a.createElement(d,o(o({ref:e},s),{},{components:t})):a.createElement(d,o({ref:e},s))}));function d(n,e){var t=arguments,r=e&&e.mdxType;if("string"==typeof n||r){var p=t.length,o=new Array(p);o[0]=h;var c={};for(var l in e)hasOwnProperty.call(e,l)&&(c[l]=e[l]);c.originalType=n,c[m]="string"==typeof n?n:r,o[1]=c;for(var i=2;i<p;i++)o[i]=t[i];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}h.displayName="MDXCreateElement"},4666:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>k,frontMatter:()=>p,metadata:()=>c,toc:()=>i});var a=t(7462),r=(t(7294),t(3905));const p={sidebar_label:"Market Place",sidebar_position:4},o="Market Place",c={unversionedId:"sdk/Unity/market-place",id:"sdk/Unity/market-place",title:"Market Place",description:"1. H\xe0m buyNFT",source:"@site/docs/sdk/Unity/market-place.md",sourceDirName:"sdk/Unity",slug:"/sdk/Unity/market-place",permalink:"/docs/sdk/Unity/market-place",draft:!1,editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/sdk/Unity/market-place.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_label:"Market Place",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Items",permalink:"/docs/sdk/Unity/items"},next:{title:"NFT",permalink:"/docs/sdk/Reference/NFT"}},l={},i=[{value:"1. H\xe0m buyNFT",id:"1-h\xe0m-buynft",level:2},{value:"2. H\xe0m sellNFT",id:"2-h\xe0m-sellnft",level:2},{value:"3. H\xe0m isApprovedToken",id:"3-h\xe0m-isapprovedtoken",level:2},{value:"4. H\xe0m isApprovedNFT",id:"4-h\xe0m-isapprovednft",level:2},{value:"5. H\xe0m approveToken",id:"5-h\xe0m-approvetoken",level:2},{value:"6. H\xe0m approveNFT",id:"6-h\xe0m-approvenft",level:2},{value:"7. H\xe0m publishNFT",id:"7-h\xe0m-publishnft",level:2},{value:"8. H\xe0m cancelSell",id:"8-h\xe0m-cancelsell",level:4}],s={toc:i},m="wrapper";function k(n){let{components:e,...p}=n;return(0,r.kt)(m,(0,a.Z)({},s,p,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"market-place"},"Market Place"),(0,r.kt)("h2",{id:"1-h\xe0m-buynft"},"1. H\xe0m buyNFT"),(0,r.kt)("p",null,"H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 mua item \u0111ang b\xe1n tr\xean ch\u1ee3. Th\xf4ng tin transaction hash c\u0169ng s\u1ebd \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 qua callback ",(0,r.kt)("a",{parentName:"p",href:"/docs/sdk/Unity/over-view#9-callback-ontransact"},"onTransact")," "),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Ch\xfa \xfd"),": N\u1ebfu b\u1ea1n mua b\u1eb1ng token, b\u1ea1n c\u1ea7n ph\u1ea3i ki\u1ec3m tra s\u1ed1 l\u01b0\u1ee3ng token \u0111\xe3 approve cho ch\u1ee3 b\u1eb1ng h\xe0m ",(0,r.kt)("a",{parentName:"p",href:"/docs/sdk/Unity/market-place#3-h%C3%A0m-isapproved-token"},"isApproved (Token)"),".\ns\u1eed d\u1ee5ng h\xe0m ",(0,r.kt)("a",{parentName:"p",href:"/docs/sdk/Unity/market-place#5-h%C3%A0m-approvetoken"},"approveToken")," \u0111\u1ec3 approve token."),(0,r.kt)("p",null,"N\u1ebfu kh\xf4ng approve token tr\u01b0\u1edbc khi mua, b\u1ea1n c\xf3 th\u1ec3 s\u1ebd g\u1eb7p l\u1ed7i sau: ",(0,r.kt)("strong",{parentName:"p"},"execution reverted: ERC20: transfer amount exceeds allowance")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"/*\n buyNFT: Mua NFT tr\xean ch\u1ee3\n @param string currency\n @param long listingId\n @param double price\n */\nCVSDKHandler.Instance.BuyNFT(currency, listingId, price);\n")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"buy nft",src:t(9666).Z,width:"761",height:"852"})),(0,r.kt)("h2",{id:"2-h\xe0m-sellnft"},"2. H\xe0m sellNFT"),(0,r.kt)("p",null,"H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 b\xe1n item l\xean ch\u1ee3. Th\xf4ng tin transaction hash c\u0169ng s\u1ebd \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 qua callback ",(0,r.kt)("a",{parentName:"p",href:"/docs/sdk/Unity/over-view#9-callback-ontransact"},"onTransact")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Ch\xfa \xfd"),": N\u1ebfu b\u1ea1n mu\u1ed1n b\xe1n item l\xean ch\u1ee3, b\u1ea1n c\u1ea7n ph\u1ea3i ki\u1ec3m tra item \u0111\xf3 \u0111\xe3 \u0111\u01b0\u1ee3c approved cho ch\u1ee3 hay ch\u01b0a b\u1eb1ng h\xe0m ",(0,r.kt)("a",{parentName:"p",href:"/docs/sdk/Unity/market-place#4-h%C3%A0m-isapproved-nft"},"isApproved (NFT)"),".\nS\u1eed d\u1ee5ng h\xe0m ",(0,r.kt)("a",{parentName:"p",href:"/docs/sdk/Unity/market-place#6-h%C3%A0m-approvenft"},"approveNFT")," \u0111\u1ec3 approve item."),(0,r.kt)("p",null,"N\u1ebfu kh\xf4ng approve item tr\u01b0\u1edbc khi b\xe1n, b\u1ea1n c\xf3 th\u1ec3 s\u1ebd g\u1eb7p l\u1ed7i sau: ",(0,r.kt)("strong",{parentName:"p"},"execution reverted: ERC721: transfer caller is not owner nor approved"),"\n__\nSau khi \u0111\u0103ng b\xe1n th\xe0nh c\xf4ng, NFT c\xf3 th\u1ec3 giao d\u1ecbch tr\xean blockchain, tuy nhi\xean NFT v\u1eabn ch\u01b0a hi\u1ec3n th\u1ecb ngay tr\xean ChainVerse Market. \u0110\u1ec3 NFT hi\u1ec3n th\u1ecb tr\xean ChainVerse Market th\xec c\u1ea7n ph\u1ea3i g\u1ecdi h\xe0m ",(0,r.kt)("a",{parentName:"p",href:"#7-h%C3%A0m-publishnft"},"publishNFT")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"/*\n sellNFT: H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 b\xe1n item l\xean ch\u1ee3\n @param string NFT\n @param long tokenId\n @param double price\n @param string currency\n */\nCVSDKHandler.Instance.SellNFT(nft, tokenId, price, currency);\n")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"sell nft",src:t(4402).Z,width:"1081",height:"1002"})),(0,r.kt)("h2",{id:"3-h\xe0m-isapprovedtoken"},"3. H\xe0m isApprovedToken"),(0,r.kt)("p",null,"H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 l\u1ea5y s\u1ed1 l\u01b0\u1ee3ng token m\xe0 b\u1ea1n \u0111\xe3 approved cho m\u1ed9t \u0111\u1ecba ch\u1ec9 n\xe0o \u0111\xf3. Th\xf4ng tin transaction hash c\u0169ng s\u1ebd \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 qua callback ",(0,r.kt)("a",{parentName:"p",href:"/docs/sdk/Unity/over-view#9-callback-ontransact"},"onTransact"),"\n(Khuy\u1ebfn kh\xedch x\u1eed l\xfd logic trong h\xe0m n\xe0y)."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Ch\xfa \xfd"),": Tr\u01b0\u1edbc khi mu\u1ed1n mua item tr\xean ch\u1ee3, b\u1ea1n c\u1ea7n ph\u1ea3i approve m\u1ed9t l\u01b0\u1ee3ng token (",(0,r.kt)("strong",{parentName:"p"},"kh\xf4ng nh\u1ecf h\u01a1n gi\xe1 tr\u1ecb c\u1ee7a item"),") cho ch\u1ee3"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"//*\n IsApproved(Token): H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 ki\u1ec3m tra token s\u1ed1 l\u01b0\u1ee3ng token approve v\xe0o ch\u1ee3\n @param string token\n @param string owner\n @param string spender\n */\nCVSDKHandler.Instance.IsApprovedToken(token, owner, spender);\n")),(0,r.kt)("h2",{id:"4-h\xe0m-isapprovednft"},"4. H\xe0m isApprovedNFT"),(0,r.kt)("p",null,"H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 ki\u1ec3m tra item b\u1ea1n mu\u1ed1n b\xe1n \u0111\xe3 \u0111\u01b0\u1ee3c approved cho ch\u1ee3 ch\u01b0a."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Ch\xfa \xfd"),": Tr\u01b0\u1edbc khi mu\u1ed1n b\xe1n item, b\u1ea1n ph\u1ea3i approve item \u0111\xf3 cho ch\u1ee3."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"/*\n isApproved(NFT): H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 ki\u1ec3m tra NFT \u0111\xe3 \u0111\u01b0\u1ee3c approve hay l\xe0 ch\u01b0a\n @param nft nft\n @param long tokenId\n */\nCVSDKHandler.Instance.IsApprovedNFT(nft, tokenId);\n")),(0,r.kt)("h2",{id:"5-h\xe0m-approvetoken"},"5. H\xe0m approveToken"),(0,r.kt)("p",null,"H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 approve token cho m\u1ed9t \u0111\u1ecba ch\u1ec9. Th\xf4ng tin transaction hash c\u0169ng s\u1ebd \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 qua callback ",(0,r.kt)("a",{parentName:"p",href:"/docs/sdk/Unity/over-view#9-callback-ontransact"},"onTransact")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"/*\n approveToken: H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 approve token cho m\u1ed9t \u0111\u1ecba ch\u1ec9\n@param String token\n@param String spender\n@param double amount\n */\nCVSDKHandler.Instance.ApproveToken(token, spender, amount);\n")),(0,r.kt)("h2",{id:"6-h\xe0m-approvenft"},"6. H\xe0m approveNFT"),(0,r.kt)("p",null,"H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 approve item b\u1ea1n mu\u1ed1n b\xe1n cho ch\u1ee3. Th\xf4ng tin transaction hash c\u0169ng s\u1ebd \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 qua callback ",(0,r.kt)("a",{parentName:"p",href:"/docs/sdk/Unity/over-view#9-callback-ontransact"},"onTransact")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"/*\n approveNFT: H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 approve NFT tr\u01b0\u1edbc khi b\xe1n l\xean ch\u1ee3\n @param string nft\n @param long tokenId\n */\nCVSDKHandler.Instance.ApproveNFT(nft, tokenId);\n")),(0,r.kt)("h2",{id:"7-h\xe0m-publishnft"},"7. H\xe0m publishNFT"),(0,r.kt)("p",null,"H\xe0m n\xe0y s\u1eed d\u1ee5ng \u0111\u1ec3 publish item c\u1ee7a b\u1ea1n l\xean ChainVerse Market. Sau khi b\xe1n th\xf4ng qua h\xe0m ",(0,r.kt)("a",{parentName:"p",href:"/docs/sdk/Unity/market-place#2-h%C3%A0m-sellnft"},"sellNFT")," th\xec NFT \u0111\xe3 \u0111\u01b0\u1ee3c b\xe1n tr\xean blockchain, tuy nhi\xean v\u1eabn ch\u01b0a \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb \u1edf tr\xean ChainVerse Market. Ch\xednh v\xec v\u1eady c\u1ea7n ph\u1ea3i g\u1ecdi h\xe0m ",(0,r.kt)("strong",{parentName:"p"},"publishNFT")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"/*\n @param string nft\n @param long tokenId\n */\nCVSDKHandler.Instance.PublishNFT(nft, tokenId);\n")),(0,r.kt)("h4",{id:"8-h\xe0m-cancelsell"},"8. H\xe0m cancelSell"),(0,r.kt)("p",null,"H\xe0m d\xf9ng \u0111\u1ec3 d\u1eebng b\xe1n NFT l\xean ch\u1ee3. Th\xf4ng tin tr\u1ea3 v\u1ec1 l\xe0 transaction hash qua callback ",(0,r.kt)("a",{parentName:"p",href:"/docs/sdk/Unity/over-view#9-callback-ontransact"},"onTransact")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"/*\n @param long listingId\n */\nCVSDKHandler.Instance.CancelSellNFT(listingId);\n\n")))}k.isMDXComponent=!0},9666:(n,e,t)=>{t.d(e,{Z:()=>a});const a=t.p+"assets/images/buyNFT-2eac8055f8cf54bdfda9d366290364c8.png"},4402:(n,e,t)=>{t.d(e,{Z:()=>a});const a=t.p+"assets/images/sellNFT-4e2d35f29befa78206b4b38bf03ca75e.png"}}]);